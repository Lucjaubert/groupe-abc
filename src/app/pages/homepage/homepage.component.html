<div class="homepage-wrapper pt-6" *ngIf="acf">
  <section id="hero"
           class="hero-section"
           (mouseenter)="pauseAutoplay()"
           (mouseleave)="resumeAutoplay()"
           tabindex="0"
           role="region"
           aria-label="Carrousel d'images – section Héro"
           (keydown)="onKeydown($event)"
           (pointerdown)="onPointerDown($event)"
           (pointerup)="onPointerUp($event)">

    <div class="hero-bg">
      <div class="hero-layer"
           *ngFor="let s of heroSlides; let i = index; trackBy: trackByIndex"
           [class.active]="i === heroIndex"
           [style.backgroundImage]="'url(' + s.bg + ')'">
      </div>
    </div>

    <div class="hero-overlay pb-10">
      <div class="hero-content" aria-live="polite">
        <h1 class="hero-title">{{ currentSlide?.title }}</h1>
        <p class="hero-subtitle">{{ currentSlide?.subtitle }}</p>
      </div>

      <div class="hero-dots" *ngIf="heroSlides.length > 1">
        <button *ngFor="let s of heroSlides; let i = index; trackBy: trackByIndex"
                type="button"
                class="hero-dot"
                [class.active]="i === heroIndex"
                [attr.aria-label]="'Aller au slide ' + (i + 1)"
                [attr.aria-current]="i === heroIndex ? 'true' : null"
                (click)="goTo(i)">
        </button>
      </div>
    </div>
  </section>

  <section id="key-figures" class="key-figures" *ngIf="keyFigures.length">
    <ul>
      <li *ngFor="let fig of keyFigures; let i = index; trackBy: trackByIndex"
          #kfItem
          [attr.data-index]="i"
          [ngStyle]="{'--value-w': (fig.digits + 'ch')}">
        <span class="value">{{ fig.display || '\u00A0' }}</span>
        <span class="label"
              [class.typing]="fig.typed.length < fig.fullLabel.length">
          {{ fig.typed }}
        </span>
      </li>
    </ul>
  </section>
</div>
