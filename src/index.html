<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <title>Groupe ABC</title>
    <base href="/" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#444697" />

    <!-- Google Search Console -->
    <meta name="google-site-verification" content="vVZ7W-srvDTqDhQh7rH3PMjrkh1oZdbwy0sujaH_C40" />

    <!-- Fallback générique (SeoService/SSR surchargera par page) -->
    <meta name="description" content="Groupe ABC : réseau national d’experts en évaluation immobilière." />
    <meta name="robots" content="index,follow,max-image-preview:large" />

    <!-- Favicons -->
    <link rel="icon" href="/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicons/favicon.svg" />
    <link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png" />
    <link rel="manifest" href="/assets/favicons/site.webmanifest" />
    <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#EA4D4D" />
    <meta name="msapplication-TileColor" content="#444697" />

    <!-- Fonts (preload) -->
    <link
      rel="preload"
      href="/assets/fonts/PlusJakartaSans-Regular.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/assets/fonts/PlusJakartaSans-Medium.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/assets/fonts/PlusJakartaSans-SemiBold.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/assets/fonts/PlusJakartaSans-Bold.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />

    <!-- Resource hints -->
    <link rel="preconnect" href="https://cdn.weglot.com" crossorigin />

    <!-- Open Graph (fallback global) -->
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Groupe ABC" />
    <meta property="og:image" content="https://groupe-abc.fr/assets/og/og-default.jpg" />

    <!-- Twitter (fallback global) -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image" content="https://groupe-abc.fr/assets/og/og-default.jpg" />

    <!-- Pas de canonical/hreflang ici : gérés dynamiquement par SeoService/SSR -->

    <!-- JSON-LD Organization sitewide -->
    <script type="application/ld+json" id="ld-sitewide">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "@id": "https://groupe-abc.fr/#organization",
      "name": "Groupe ABC",
      "url": "https://groupe-abc.fr/",
      "logo": "https://groupe-abc.fr/assets/favicons/android-chrome-512x512.png",
      "sameAs": [
        "https://www.linkedin.com/company/groupe-abc"
      ]
    }
    </script>
  </head>

  <body>
    <app-root></app-root>
    <noscript>Activez JavaScript pour utiliser le changeur de langue.</noscript>

    <!-- Weglot (chargé après load pour ne pas bloquer SSR/SEO) -->
    <script>
      (function () {
        window.addEventListener('load', function () {
          var s = document.createElement('script');
          s.src = 'https://cdn.weglot.com/weglot.min.js';
          s.async = true;
          s.onload = function () {
            try {
              Weglot.initialize({
                api_key: 'wg_ac7e31958c0226867529d4e1c48d7a651',
                originalLanguage: 'fr',
                destinationLanguages: ['en'],
                dynamic: true,
                translateMeta: false,   // balises gérées par SSR/SeoService
                hrefLang: false,        // hreflang géré par SSR/SeoService
                redirect: false,        // pas de redirection auto : URLs / et /en/ gérées par Angular
                translateAttributes: ['alt','title','placeholder','aria-label'],
                excludedPaths: [
                  '/wordpress/wp-json*','/wp-json*',
                  '/wordpress/wp-admin*','/wordpress/wp-login*',
                  '?rest_route='
                ]
              });
            } catch (e) {
              console.error('[Weglot] init error', e);
            }
          };
          s.onerror = function (e) {
            console.error('[Weglot] script load error', e);
          };
          document.body.appendChild(s);
        });
      })();
    </script>
  </body>
</html>
